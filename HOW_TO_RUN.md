# 🚀 如何运行聊天应用

## 快速开始（3 步）

### 1️⃣ 启动服务器

在项目根目录运行：

```bash
./start.sh
```

你应该看到类似的输出：

```
✅ Loaded environment variables from .env file
🚀 Starting FastAPI server...
INFO:     Uvicorn running on http://127.0.0.1:8000
INFO:     Application startup complete.
```

### 2️⃣ 打开浏览器

访问以下任一地址：

```
http://127.0.0.1:8000
```

或

```
http://localhost:8000
```

### 3️⃣ 开始聊天！

- 在底部输入框输入你的问题
- 按 **Enter** 发送（Shift+Enter 换行）
- 等待 AI 回复
- 享受智能对话！

---

## 📱 界面说明

```
┌─────────────────────────────────────────────────────────┐
│  💬 Chat History        │  🤖 AI Chat Assistant       │
│  ─────────────────      │  ─────────────────────────  │
│  + New Chat             │                             │
│                         │  👋 Welcome!                │
│  📝 Chat 1              │                             │
│  📝 Chat 2              │  💬 对话消息显示在这里       │
│  📝 Chat 3              │                             │
│                         │  ⚙️ Used 2 tools            │
│                         │                             │
│                         │  ─────────────────────────  │
│                         │  📝 [输入框]         [发送] │
└─────────────────────────────────────────────────────────┘
```

---

## 💡 使用技巧

### 示例问题

点击欢迎页面的示例问题快速开始：

- 🏈 **"Who won the Super Bowl in 2025?"** - 测试 Web 搜索
- 🤖 **"What are the latest developments in AI?"** - 测试实时信息
- ⚛️ **"Explain quantum computing"** - 测试知识问答

### 键盘快捷键

- **Enter** - 发送消息
- **Shift + Enter** - 换行（不发送）

### 聊天管理

- **新建聊天** - 点击左上角的 "+ New Chat" 按钮
- **切换聊天** - 点击左侧面板的聊天项
- **查看历史** - 所有聊天自动保存在浏览器中

---

## 🔍 AI 能做什么？

### ✅ 支持的功能

| 功能 | 示例问题 |
|------|----------|
| 🌐 **Web 搜索** | "伦敦现在的温度是多少？" |
| 📄 **网页阅读** | "搜索 Python 最新版本，然后阅读官方更新日志" |
| 💬 **知识问答** | "什么是量子计算？" |
| 🧮 **计算** | "2024 年是闰年吗？" |
| 📚 **解释概念** | "解释一下机器学习" |

### 🤖 智能工具调用

AI 会自动决定何时使用工具：

- 需要**最新信息** → 自动搜索网络
- 需要**特定网页内容** → 自动读取网页
- **一般知识** → 直接回答

你会看到工具使用标记：

```
⚙️ Used 2 tools
```

---

## 🎨 界面特性

### 思考动画

当 AI 正在处理你的问题时，你会看到：

```
🤖 Assistant
   Thinking • • •
```

三个点会跳动，表示 AI 正在工作。

### 消息样式

- **你的消息** - 蓝色气泡，右对齐
- **AI 消息** - 灰色气泡，左对齐
- **工具标记** - 显示 AI 使用了哪些工具

---

## ⚠️ 常见问题

### Q: 服务器启动失败？

**检查端口占用：**
```bash
lsof -i:8000
```

**如果端口被占用，先停止：**
```bash
lsof -t -i:8000 | xargs kill -9
```

**然后重新启动：**
```bash
./start.sh
```

### Q: 页面打不开？

1. **确认服务器正在运行**
   - 查看终端是否有 "Uvicorn running" 消息

2. **检查 URL**
   - 确保访问 `http://127.0.0.1:8000`（不是 https）

3. **清除浏览器缓存**
   - 按 Ctrl+Shift+R（Windows）或 Cmd+Shift+R（Mac）强制刷新

### Q: AI 不回复？

1. **检查网络连接**
2. **查看浏览器控制台**（F12 → Console）
3. **查看后端日志**（运行服务器的终端）
4. **确认 API Key 有效**（检查 `.env` 文件）

### Q: 聊天历史丢失？

聊天历史保存在浏览器的 LocalStorage 中。如果：
- 清除了浏览器数据
- 使用了隐私/无痕模式
- 更换了浏览器

历史记录会丢失。这是正常的。

---

## 🛑 如何停止服务器

在运行服务器的终端按：

```
Ctrl + C
```

或者使用命令：

```bash
lsof -t -i:8000 | xargs kill -9
```

---

## 📚 更多信息

- **完整使用指南** → [docs/WEB_APP_GUIDE.md](docs/WEB_APP_GUIDE.md)
- **API 文档** → http://127.0.0.1:8000/docs
- **项目说明** → [README.md](README.md)

---

## 🎉 开始使用吧！

现在你已经知道如何运行和使用聊天应用了。

**记住这三步：**

1. `./start.sh` - 启动服务器
2. 打开 `http://127.0.0.1:8000` - 访问应用
3. 开始聊天！- 享受 AI 对话

祝你使用愉快！🚀

---

**需要帮助？** 查看 [docs/WEB_APP_GUIDE.md](docs/WEB_APP_GUIDE.md) 获取详细信息。

